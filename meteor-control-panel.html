<head>
  <title>Control Panel</title>
</head>

<body class='{{bodyClass}}'>
	{{> body_nav}}
</body>

<template name='body_nav'>
<nav>
	<ul>
		<li>
			<select>
				<option>-clients-</option>
				<option value="{{pathFor route='client.all'}}">(all clients)</option>
				<option value="{{pathFor route='client.new'}}">(new client)</option>
				{{#each allClients}}
					<option value='/client/{{slug}}'>{{name}}</option>
				{{/each}}
			</select>
		</li>
		<li>
			<select>
				<option>-sites-</option>
				<option value="{{pathFor route='site.all'}}">(all sites)</option>
				<option value="{{pathFor route='site.new'}}">(new site)</option>
				{{#each allSites}}
					<option value='/site/{{slug}}'>{{url}}</option>
				{{/each}}
			</select>
		</li>
		<li><a href="{{pathFor route='user.all'}}">All Users</a></li>
	</ul>
</nav>
</template>

<template name="address">
	<div class='{{templateContext}}_address' data-index={{index}} data-field=address style='background-image:url({{address__map}})'>
		<button class=remove>X</button>
		<address>
			<input type=text class=editable name=address.{{index}}.street_address value={{street_address}} placeholder="add street address" size={{street_address.length}}><br>
			<input type=text class=editable name=address.{{index}}.address_locality value={{address_locality}} placeholder="add city" size={{address_locality.length}}> <input type=text class=editable name=address.{{index}}.address_region value={{address_region}} placeholder="add state" size={{address_region.length}}>, <input type=text class=editable name=address.{{index}}.postal_code placeholder="add zip" value={{postal_code}} size={{postal_code.length}}>
		</address>
		{{#if note}}
			<textarea class=editable name=address.{{index}}.note placeholder="add note" value={{note}}></textarea>
		{{else}}
			<a class='add-note'>Add Note</a>
		{{/if}}
	</div>
</template>


<template name="email_address">
	<section class='{{templateContext}}_email_address' data-index={{index}} data-field='{{#if isSiteFile}}{{templateContext}}.{{index}}.{{/if}}email_address'>
		<button class=remove>X</button>
		<input type=email class=editable name=email_address.{{index}}.address value={{address}} placeholder="add email address">{{#if address}}<a href="mailto:{{address}}">send to</a>{{/if}}<br>
		<input type=text class=editable name=email_address.{{index}}.login value={{login}} placeholder="add login"><br>
		{{#if note}}
			<textarea class=editable name=email_address.{{index}}.note value={{note}}></textarea>
		{{else}}
			<a class='add-note'>Add Note</a>
		{{/if}}
	</section>
</template>


<template name="phone_number">
	<section class="{{templateContext}}_phone_number" data-index={{index}} data-field='{{#if isSiteFile}}{{templateContext}}.{{index}}.{{/if}}phone_number'>
		<button class=remove>X</button>
		<input type=text class=editable name=phone_number.{{index}}.number value={{number}} placeholder="add phone number">{{#if isPhone}}<a href='tel:{{mobileNumber}}'>Call</a>{{/if}}<br>
		{{#if note}}
			<textarea class=editable name=phone_number.{{index}}.note value={{note}}></textarea>
		{{else}}
			<a class='add-note'>Add Note</a>
		{{/if}}
	</section>
</template>
<!-- instead of full values, example:
<section class=phone_number data-index={{index}}>
<input type=text name=number value={{number}}>
placeholder gotten from:
var field = this.name
Collection.label(field)
 -->