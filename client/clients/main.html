<template name="clientInfo">
	<div class='row'>

		<div class='col s12 document-navigation'>
			<ul class='tabs card white'>
				<li class='tab col l6 m4 l2'><a href='#clientInfo' class='black-text'><i class='mdi-social-person'></i> <span class='hide-on-small-only'>Basic Info</span></a></li>
				<li class='tab col l6 m4 l2'><a href='#clientAddresses' class='black-text'><i class='mdi-maps-place'></i> <span class='hide-on-small-only'>Addresses</span></a></li>
				<li class='tab col l6 m4 l2'><a href='#clientEmails' class='black-text'><i class='mdi-communication-email'></i> <span class='hide-on-small-only'>Emails</span></a></li>
				<li class='tab col l6 m4 l2'><a href='#clientPhoneNumbers' class='black-text'><i class='mdi-communication-phone'></i> <span class='hide-on-small-only'>Phone Numbers</span></a></li>
				<li class='tab col l6 m4 l2'><a href='#clientPeople' class='black-text'><i class='mdi-social-people'></i> <span class='hide-on-small-only'>People</span></a></li>
			</ul>
		</div>

		<div class='col s12' id='clientInfo'>
			<div class='col s12 m12 l4'>
				<div class='card white'>
					<div class='card-content'>
						<span class="card-title black-text">Client Name</span>
						<div class="input-field">
							<h3><input type=text class=live-field name=name value={{client.name}}></h3>
						</div>
					</div>
				</div>

				<div class='card white'>
					<div class='card-content'>
						<span class='card-title black-text'>Sites</span>
						<ul>
						{{#each sites}}
							<li><i class='mdi-social-public'></i><a href="/site/{{slug}}#clientInfo">{{url}}</a></li>
						{{/each}}
						</ul>
					</div>
				</div>

				<div class='card white'>
					<div class='card-content'>
						<span class='card-title black-text'>Referral</span>
						<div class="input-field">
							<input type=text class=live-field name=referral value={{client.referral}} placeholder="enter referral"><br>
						</div>
					</div>
				</div>
			</div>

			<div class='col s12 m12 l8'>
				<div class='card white'>
					<div class='card-content'>
						<span class="card-title black-text">Notes</span>
						<div class="input-field">
							<textarea class='live-field materialize-textarea' name=note value={{client.note}} placeholder="enter note"></textarea>
						</div>
					</div>
				</div>
			</div>


		</div>



		<div class='col s12' id='clientAddresses'>
			<div class='cp-collection' id='address'>
				<ul>
				{{#each addIndex client.address}}
					<li class='col s12 m6 l4'>
						<div class='card white'>{{> address}}</div>
					</li>
				{{/each}}
					<li class='col s12 m6 l4 add-item'>
						<div class='card white'>
							<div class='card-action'>
								<a class='address' href="#"><i class='mdi-content-add'></i>Add Address</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>



		<div class='col s12' id='clientEmails'>
			<div class='cp-collection' id="email_address">
				<ul>
				{{#each addIndex client.email_address}}
					<li class='col s12 m6 l4'>
						<div class='card white'>{{> email_address}}</div>
					</li>
				{{/each}}
					<li class='col s12 m6 l4 add-item'>
						<div class='card white'>
							<div class='card-action'>
								<a class='email_address' href="#"><i class='mdi-content-add'></i>Add Email Address</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>




		<div class='col s12' id='clientPhoneNumbers'>
			<div class='cp-collection' id="phone_number">
					<ul>
					{{#each addIndex client.phone_number}}
						<li class='col s12 m6 l4'>
							<div class='card white'>{{> phone_number}}</div>
						</li>
					{{/each}}
						<li class='col s12 m6 l4 add-item'>
							<div class='card white'>
								<div class='card-action'>
									<a class='phone_number' href="#"><i class='mdi-content-add'></i>Add Phone Number</a>
								</div>
							</div>
						</li>
					</ul>
			</div>
		</div>


		<div class='col s12' id='clientPeople'>
			<div class='cp-collection' id="person">
				<ul>
				{{#each addIndex client.person}}
					<li class='col s12 m12 l6'>
						<div class='card white'>{{> client__person}}</div>
					</li>
				{{/each}}
					<li class='col s12 m6 l4 add-item'>
						<div class='card white'>
							<div class='card-action'>
								<a class='person' href="#"><i class='mdi-content-add'></i>Add Person</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>





</template>



<!--
SEE ABOUT REMOVING CLASS=live-field AND TARGETING BY TYPE INSTEAD
 -->

<template name="client__person">
		<button class='remove btn-flat waves-effect waves-red'>X</button>
		<div class='card-content'>
			<span class="card-title black-text input-field col s12"><input type=text class=live-field name=name value={{name}} placeholder="add person's name"></span>
			<div class='input-field col s12 m12 l12'>
				<input type=text class=live-field name=position value={{position}} placeholder="position">
			</div>
			<section class='phone_number'>
				{{#if phone_number}}
					<h5 class='col s12 m12 l12'>Phone Numbers <span class='add-item'><a class='person.{{index}}.phone_number waves-effect waves-green btn-flat mdi-content-add-circle' href="#"></a></span></h5>
					<ul>
					{{#each addIndex phone_number}}
						<li class='card col s12 white'>{{> phone_number}}</li>
					{{/each}}
					</ul>
				{{else}}
					<span class='add-item'><a class='person.{{index}}.phone_number waves-effect waves-green btn-flat' href="#">Add Phone Number</a></span>
				{{/if}}
			</section>
			<section class='email_address'>
				{{#if email_address}}
					<h5 class='col s12 m12 l12'>Email Addresses <span class='add-item'><a class='person.{{index}}.email_address waves-effect waves-green btn-flat mdi-content-add-circle' href="#"></a></span></h5>
					<ul>
					{{#each addIndex email_address}}
						<li class='card col s12 white'>{{> email_address}}</li>
					{{/each}}
					</ul>
				{{else}}
					<span class='add-item'><a class='person.{{index}}.email_address waves-effect waves-green btn-flat' href="#">Add Email Address</a></span>
				{{/if}}
			</section>
			<div class='col s12 input-field'>
				<input class='live-field filled-in' type=checkbox name=public checked="{{#if public}}checked{{/if}}">
				<label for=public>Is public?</label>
			</div>
			<div class='col s12 input-field'>
				<input type=text class=live-field name=note value={{note}} placeholder="add note">
			</div>
		</div>
</template>




<template name="newClient">
	<h1>Add a New Client</h1>
	<form>
		<input type=text class=live-field name=name placeholder=name><br>
		<input type=hidden class=slug><br>
		<textarea name=referral class=live-field placeholder=referral></textarea><br>
		<input type=submit value=add>
	</form>
</template>

<template name="allClients">
	<h2>All Clients</h2>
	<ul class='allClients'>
	{{#each clients}}
		<li class="client">
			<h3><a href="/client/{{slug}}">{{name}}</a></h3>
			{{#if sites}}
				<ul>
				{{#each sites}}
					<li><a href="/site/{{slug}}">{{url}}</a></li>
				{{/each}}
				</ul>
			{{/if}}
		</li>
	{{/each}}
	</ul>
</template>